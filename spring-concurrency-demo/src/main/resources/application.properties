# Spring Boot 高并发演示应用配置

# 应用基本信息
spring.application.name=spring-concurrency-demo
server.port=8080

# 数据库配置 (H2内存数据库)
spring.datasource.url=jdbc:h2:mem:concurrency_test
spring.datasource.driverClassName=org.h2.Driver
spring.datasource.username=sa
spring.datasource.password=

# JPA配置
spring.jpa.database-platform=org.hibernate.dialect.H2Dialect
spring.jpa.hibernate.ddl-auto=create-drop
spring.jpa.show-sql=true
spring.jpa.properties.hibernate.format_sql=true

# Redis配置 (用于缓存和分布式锁)
spring.redis.host=localhost
spring.redis.port=6379
spring.redis.password=
spring.redis.timeout=60000
spring.redis.lettuce.pool.max-active=50
spring.redis.lettuce.pool.max-wait=-1
spring.redis.lettuce.pool.max-idle=20
spring.redis.lettuce.pool.min-idle=5

# 日志配置
logging.level.com.example.concurrency=DEBUG
logging.level.org.springframework.web=INFO
logging.level.org.hibernate.SQL=DEBUG
logging.level.org.hibernate.type.descriptor.sql.BasicBinder=TRACE

# Actuator配置 (健康检查和监控)
management.endpoints.web.exposure.include=health,info,metrics,prometheus
management.endpoint.health.show-details=always
management.metrics.export.prometheus.enabled=true

# 秒杀相关配置
seckill.stock.check-interval=100ms
seckill.stock.max-retry=3
seckill.order.timeout=300s

# 线程池配置
task.executor.core-size=10
task.executor.max-size=50
task.executor.queue-capacity=200

# 缓存配置
spring.cache.type=simple
spring.cache.redis.time-to-live=60000

# JSON序列化配置
spring.jackson.serialization.write-dates-as-timestamps=false
spring.jackson.time-zone=Asia/Shanghai

# 限流配置
ratelimit.enabled=true
ratelimit.capacity=1000
ratelimit.refill-tokens=100
ratelimit.refill-period=60